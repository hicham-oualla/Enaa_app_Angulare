<div class="retard-container">
  <h2>Liste des Retards de l'Apprenant</h2>

  <button (click)="onAddRetard()" class="btn btn-add">Ajouter un Retard</button>

  <table class="retard-table">
    <thead>
    <tr>

      <th>Date</th>
      <th>Durée (minutes)</th>
      <th>État</th>
      <th>Justifications</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let retard of retards">

      <td>{{ retard.date | date: 'dd/MM/yyyy' }}</td>
      <td>{{ retard.durationDeRetard }}</td>
      <td>
          <span [ngClass]="{'justifie': retard.etat_retard === 'JUSTIFIE', 'non-justifie': retard.etat_retard === 'NON_JUSTIFIE'}">
            <i [ngClass]="retard.etat_retard === 'JUSTIFIE' ? 'fas fa-check-circle' : 'fas fa-times-circle'"></i>
            {{ retard.etat_retard === 'JUSTIFIE' ? 'Justifié' : 'Non Justifié' }}
          </span>
      </td>
      <td>
        <ul>
          <li *ngFor="let justification of retard.justificationRetard">
            {{ justification }}
          </li>
        </ul>
      </td>
      <td>
        <button (click)="onEditRetard(retard.id)" class="btn btn-edit">Modifier</button>
        <button (click)="onDeleteRetard(retard.id)" class="btn btn-delete">Supprimer</button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
